<!DOCTYPE html>
<html lang="en">
  <head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2976969447542443"
     crossorigin="anonymous"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2F7W0VSKYS"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-2F7W0VSKYS');
    </script>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta charset="UTF-8" content="CRVAMhoUPwk5NwwvGFgMAS8AMD8GPis1NZpauqwGNXcJn5ICfziqmdZ_" csrf-param="_csrf_token" method-param="_method" name="csrf-token">
<meta content="security, deck, security-deck" name="keywords"><meta content="Understanding JWT through q&amp;a" name="description">
<title>Understanding JWT</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100;200;300;400;500;600&amp;display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100;200;300;400;500;600&amp;display=swap" rel="stylesheet">
    <link phx-track-static rel="stylesheet" href="css/app-02e14b945d8b05cb2897c7e476f6f184%EF%B9%96vsn=d.css"/>
    <script defer phx-track-static type="text/javascript" src="js/app-a031d7efdf9d092a14f7e85a21871ce8%EF%B9%96vsn=d.js"></script>
    <!-- SIDENAV SCRIPT -->
    <script type="text/javascript">
      /* Set the width of the side navigation to 250px */
      function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
        document.getElementById("main").style.marginLeft = "250px";
        document.body.style.backgroundColor = "rgba(0,0,0,0.4)";

        var dropdown = document.getElementsByClassName("dropdown-btn");
        var i;
        for (i = 0; i < dropdown.length; i++) {
          dropdown[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var dropdownContent = this.nextElementSibling;
            if (dropdownContent.style.display === "block") {
              dropdownContent.style.display = "none";
            } else {
              dropdownContent.style.display = "block";
            }
          });
        }
      }

      /* Set the width of the side navigation to 0 */
      function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
        document.getElementById("main").style.marginLeft = "0";
        document.body.style.backgroundColor = "white";
      }
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2976969447542443"
     crossorigin="anonymous"></script>
    <ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-2976969447542443"
     data-ad-slot="2745114693">
    </ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </head>
  <body>

    <div id="mySidenav" class="sidenav">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <!-- FOR WHEN YOU NEED NESTED NAV USE THIS EXAMPLE -->
      <!-- <p class="dropdown-btn">Elixir Phoenix</p>
      <div class="dropdown-container">
        <a href="#">Link 1</a>
        <a href="#">Link 2</a>
      </div> -->
      <a href="page/about.html">About</a>
      <a href="page/attributions.html">Attributions</a>
    </div>

    <nav id="nav">
      <a href="index.html"><img id="logo" class="logo" src="images/logo-7c9e547c805c708decc674b648163720%EF%B9%96vsn=d.svg" alt="DevDecks icon" /></a>
      <a href="studio.html"><img id="settings-icon" class="nav-icon lg" src="images/studio-2-00b6814e1495c4cb9ff6987d9b98753f%EF%B9%96vsn=d.svg" alt="studio icon" /></a>
      <a id="darkmode-toggler"><img id="settings-icon" class="nav-icon" src="images/night-mode-41cf0bc8abaacbbd59e2fdca8ac55a85%EF%B9%96vsn=d.svg" alt="dark mode icon" /></a>
      <img id="settings-icon" onclick="openNav()" class="nav-icon" src="images/more-79c5db1b1206b6b8195fee1ceb385178%EF%B9%96vsn=d.svg" alt="more pages icon" />
    </nav>
    <br />
<main role="main" class="container">
  <p class="alert alert-info" role="alert"></p>
  <p class="alert alert-danger" role="alert"></p>
<div class="page blog-post">
  <div id="2021-understanding-jwt" style="margin-bottom: 3rem;">
<a class="all-posts-link" href="index.html">All posts</a>
    <div class="flex-row-d-column-m">
      <h1 class="link-title">Understanding JWT</h1>
      <time>2021-10-09</time>
    </div>

    <div class="flex-row-no-space">
      <img class="icon-sm" src="images/tag2-730d3eac769a667d071582853b151791%EF%B9%96vsn=d.svg" />&nbsp<a class="blog-tag" href="tags/security.html">security</a><a class="blog-tag" href="tags/deck.html">deck</a><a class="blog-tag" href="tags/security-deck.html">security-deck</a>
    </div>

    <div class="blog-post-body">
<p>
This and the other “Deck” posts are a repurposing of flashcard study decks to Q&amp;A blog posts. Google was not showing love to this content as a set of flashcards and I didn’t want to delete them entirely, I hope you find it useful.</p>
<h3>
  What is a JSON web token (JWT)?</h3>
<p>
It is an access / authorization token that can be used when making requests to application servers to grant or deny access to server resources using the contents of the token for this determination.</p>
<h3>
  There are 3 components of a JWT what are they?</h3>
<p>
Header, Payload, and Signature.</p>
<h3>
  What is the role of the payload in a JWT token?</h3>
<p>
The payload contains the data the systems are interested in. Often it will be data about a user but it could be anything like bank transfer information.</p>
<h3>
  What are claims in a JWT?</h3>
<p>
Claims are essentially the payload but with different categories of types of payload data. There are registered claims which are predefined payload keys such as iss (issuer), exp (expiration). Claims exist as public or private, which are covered later in this deck.</p>
<h3>
  What is the role of the header?</h3>
<p>
The header contains metadata about how the server signed the token, which algorithm it used. The server will use the header determine which algorithm to use to decode it.</p>
<h3>
  What is the role of the signature?</h3>
<p>
The signature is what verifies the validity of the token. It is created using a secret key and is comprised of the contents of the token header and payload. The signature is used to verify that the contents of the token were not changed.</p>
<h3>
  Is a JWT an access token?</h3>
<p>
Yes it is. It is what grants users access to different server resources.</p>
<h3>
  List options for storing JWT in the browser.</h3>
<p>
The two most common options are to store it as a cookie or in localStorage.</p>
<h3>
  If you store a JWT as localStorage in the browser how does it get sent back to the server as a part of a web request?</h3>
<p>
You will have to query for the token from localStorage and alter your request to include the token either as a header or parameter.</p>
<h3>
  If you store a JWT as a cookie in the browser how does it get sent back to the server as a part of a web request?</h3>
<p>
Cookies are sent with every browser request, so this will be sent with each request the browser makes to the origin server (the server that rendered the html).</p>
<h3>
  When it's said that the server signed the token, what does that mean?</h3>
<p>
This is the servers way of saying the data it is signing needs to be returned in its current form, otherwise when the server checks for the token for validity it will not pass inspection.</p>
<h3>
  Describe the relationship between a browser client and application server that generated the JWT?</h3>
<p>
The client often store’s the JWT in client side storage and passes the token back to the server on requests to verify that the user still has a valid session and has access to the resource they are requesting.</p>
<h3>
  What is a refresh token and how can they be used with JWT's?</h3>
<p>
Since our JWT is an access token, the refresh token is an optional second token that can be used to issue a new access token when the current one expires. This can be useful to limit your exposure if an attacker is able to obtain a valid token.</p>
<h3>
  What additional security benefit does JWE provide what JWT does not?</h3>
<p>
JWE adds encryption. This means that the data in the token cannot be read without a key that is only distributed to trusted systems to unlock it, allowing you to store more sensitive data than would be stored in a traditional JWT. Try decoding a JWT to see anyone can unlock it. Run atob(“eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9”) in your developer tools. This is the header part of the example token on jwt.io.</p>
<h3>
  If you are going to store private/sensitive data in a token what type of token would you use?</h3>
<p>
JWE because the data would be encrypted and unreadable by another party without your consent.</p>
<h3>
  Why is it important to expire a JWT?</h3>
<p>
You want to expire a JWT so that a bad actor has a smaller time period to use a valid token as a means of authentication. An example could be one of your users is logged into your system and you store a JWT on their computer, then they step away from their computer and a few minutes later a bad actor sees the computer left alone and decides to perform unwanted actions without the users knowledge. If the token had expired then the user would not have been vulnerable to such an event.</p>
<h3>
  How are refresh tokens used?</h3>
<p>
After a token has expired a client will send a post request to a different authorization server endpoint than they one that granted them the JWT, this endpoint might be called /renew. That post request will include the refresh token which the auth server will then make sure is valid and issue a new access token as a response.</p>
<h3>
  When might you opt for session authorization over JWT when building an application?</h3>
<p>
If you are building a monolithic application where your application does not need to communicate with other servers in your system then it may make sense to use session storage mechanisms your backend technology provides for auth.</p>
<h3>
  What is the difference between a public and private claim?</h3>
<p>
Consider the difference between a public API vs a private API. A public API is well documented and can be read by anyone, while a private API can only be read by the API team and those who are consuming it and that data is agreed upon in advance by the parties involved. The same can be said of claims, they differ in their level of exposure. Private claims can only be read by the parties that agree to them and public claims can be read by anyone.</p>
<h3>
  What happens when a JWT is tampered with or altered?</h3>
<p>
It is invalidated. Since the tokens signature is generated from the contents of the header and payload any alterations made to either will cause the token to become corrupted.</p>
<ul>
  <li>
<a href="tags/elixir-deck.html" target="_blank">More security concepts decks</a>  </li>
</ul>

    </div>
  </div>
</div>

</main>

    <div id="privacy-policy-container">
      <a href="page/privacy.html">Privacy Policy</a>
      <div>Built with 🛠️ and ☕ in ⛰️</div>
    </div>

  </body>
</html>
